<html>
  <head>
    <title>HanziLookup WASM</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <script src="HanziLookup.js"></script>
    <script>
      const wasm_uri = 'hanzi_lookup_bg.wasm';
      const worker_uri = 'HanziLookupWebWorker.js';
      const matcher = new HanziLookup(worker_uri, wasm_uri);
      const json = '{"char":"æ©˜","ix":0,"duration":34469,"actions":[{"action":"stroke","points":[[39,78],[40,78],[48,75],[63,72],[68,72],[76,72],[83,73],[88,74]]},{"action":"stroke","points":[[65,40],[65,41],[67,52],[68,64],[69,72],[70,81],[74,96],[74,107],[74,115],[72,127],[71,137],[70,148],[69,158],[69,166],[66,162],[66,162]]},{"action":"stroke","points":[[67,75],[67,76],[62,87],[54,97],[52,104],[48,112],[44,115]]},{"action":"stroke","points":[[65,79],[66,79],[70,81],[79,89],[82,92],[85,98],[89,104],[92,107],[95,109],[98,112],[104,118],[111,124],[110,120],[110,120]]},{"action":"stroke","points":[[126,36],[127,36],[140,36],[151,35],[157,34],[168,31],[171,30],[167,34],[158,45],[156,48],[155,49],[152,53],[151,54],[151,54]]},{"action":"stroke","points":[[143,52],[144,52],[146,54],[150,58],[155,63],[156,65]]},{"action":"stroke","points":[[121,68],[125,67],[136,64],[141,64],[148,63],[152,62],[157,62],[167,63],[172,64],[176,66],[182,67],[182,68],[180,72],[180,72]]},{"action":"stroke","points":[[148,67],[149,71],[150,76],[150,82],[149,91],[148,100],[148,105],[148,108],[147,101]]},{"action":"stroke","points":[[145,70],[144,70],[141,76],[136,84],[134,86],[132,88],[130,89]]},{"action":"stroke","points":[[127,114],[126,115],[126,122],[128,132],[129,143],[132,151],[134,159],[134,163],[135,163],[135,165],[134,164]]},{"action":"stroke","points":[[125,112],[127,112],[135,111],[144,112],[156,112],[160,112],[165,113],[176,113],[177,113],[183,115],[186,117],[191,120],[193,122],[194,125],[195,135],[194,147],[194,152],[192,164],[191,169]]},{"action":"stroke","points":[[155,124],[154,127],[148,136],[144,140],[144,140]]},{"action":"stroke","points":[[159,124],[160,124],[164,129],[170,137],[175,143],[175,143]]},{"action":"stroke","points":[[151,149],[151,150],[152,157],[153,166],[153,172],[153,172]]}]}';
      const input = JSON.parse(json);

      window.addEventListener('load', function(event) {
        let promise = matcher.barf(input);
        promise.then(res => {
          alert(res);
        });
      });
    </script>
  </head>
  <body></body>
</html>
